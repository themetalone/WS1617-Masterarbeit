\section{Mathematische Grundlagen}
\subsection{Single Population Ansätze}\label{ssec:spa}
\ellen
Zunächst werden Single Population Ansätze untersucht, also Modelle zur Beschreibung einer Gesellschaft, beispielsweise eines Landes oder einer Stadt. Dazu werden üblicherweise SIR-Modelle genutzt.

\subsubsection{SIR Modell}

Das klassische SIR-Modell ist ein Ansatz über gewöhnliche Differenzialgleichungen. Dabei gilt, dass die gesamte Bevölkerungsanzahl sich nicht verändert.\\
Individuen der Bevölkerung befinden sich in einer von drei Gruppen.\\
Entweder ist das Individuum gesund und kann angesteckt werden (Gruppe S), es ist krank und kann Personen aus der Gruppe S infizieren (Gruppe I), oder es kann nicht mehr angesteckt werden (immun, tot oder unter Quarantäne) und befindet sich in der Gruppe R.\\
Sei nun $N$ die gesamte Bevölkerungsanzahl, dann gilt im klassischen Modell zu jedem Zeitpunkt $t$, $S(t)+I(t)+R(t) = N$. Zusätzlich wird die Annahme getroffen, dass sich zu Beginn einer Epidemie niemand in der Gruppe R befindet, also gilt: $S(0)+I(0)= S_0+I_0 = N$.\\
Die Ausbreitung der Infektion wird dann mit der folgenden Gruppe von Differenzialgleichungen beschrieben.
\begin{align}
\dfrac{dS}{dt} &= -kSI\\
\dfrac{dI}{dt} &= kSI- \gamma I\\
\dfrac{dR}{dt} &= \gamma I
\end{align}

Dabei gilt: $S_0 > 0, I_0 > 0, R_0 = 0$.\\
$k > 0$ beschreibt die Infektionsrate und $\gamma > 0$ die Immunisierungsrate, wobei zu beachten ist, dass auch Tote als immun angenommen werden. \\
Der Faktor $SI$ beschreibt die Möglichkeiten, dass eine kranke auf eine gesunde Person trifft um diese anstecken zu können.\\  
Dieses Modell ist sehr simpel, hat jedoch einige schwächen im Bezug auf die Beobachtungen in der Realität.\\
So scheint es unwahrscheinlich, dass der Interaktionsterm linear ist. Viel wahrscheinlicher ist es, dass Aufgrund von Verhaltensänderungen eine Verringerung der Interaktionen eintritt, sobald die Epidemie bekannt ist.\\
Zudem ist es bei Beobachtungen über einen längeren Zeitraum durchaus wahrscheinlich, dass es zu Geburten und Todesfällen kommt.\\
Um diesen Überlegungen Rechnung zu tragen wurde das SIR-Modell bereits oft weiterentwickelt.\\
Eine Auswahl dieser Weiterentwicklungen wird später beschrieben und untersucht. Zunächst wird jedoch das klassische SIR-Modell diskretisiert. Dies ist für die vorliegende Arbeit notwendig, da eine Umsetzung in der Schule durchgeführt werden soll und Differentialgleichungen in der Schule nicht behandelt werden.\\
 Da rekursive Folgen bereits früh von SuS untersucht werden, bietet es sich an, die Differentialgleichungen in rekursive Funktionen umzuwandeln.\\
  Dann kann man die Gleichungen folgendermaßen beschreiben:
  \begin{align}
  S_n &= S_{n-1}- kS_{n-1}I_{n-1}\\
  I_n &= I_{n-1}+ kS_{n-1}I_{n-1}- \gamma I_{n-1}\\
  R_n &= R_{n-1}+ \gamma I_{n-1}
  \end{align}


\subsubsection{Modifizierte SIR Modelle}
\ellen
Eine einfache Möglichkeit zur Modifikation des SIR-Modells ist es, zusätzliche Zustände einzuführen. Caitlin Rivers et al. verfolgen einen solchen Ansatz und erweitern das SIR-Modell zu einem SEIHFR-Modell. 
Genau wie im grundlegenden Modell gibt es die Ansteckbaren (S), Infektiösen (I) und die, die nicht mehr angesteckt werden und auch nicht mehr anstecken (R). Zusätzlich gibt es jedoch jene, die Kontakt zu Kranken hatten, jedoch noch nicht Infektiös sind (E), sowie jene die in Krankenhäusern untergebracht sind (H) und jene, die sterben und beerdigt werden (F).
Durch diese Einführung zusätzlicher Zustände können genauere Aussagen getroffen werden, da beispielsweise die Klasse R zuvor ungenügend Informationen zur Verfügung stellte. Durch das SEIHFR-Modell ist es möglich zu unterscheiden, wie viele Immunisiert wurden und wie viele gestorben sind. Dies ist im weiteren Verlauf wichtig, wenn man Methoden zur Eindämmung und Bekämpfung von Infektionskrankheiten untersuchen möchte. Gleichzeitig wird das Problem jedoch komplizierter durch die Erweiterung des Modells, da die einzelnen Zustände nun komplizierter miteinander interagieren.\\
So wird ein Teil von I in Krankenhäuser eingeliefert (H), während andere sterben (F) und wieder andere genesen und immunisiert werden (R). Ebenso stirb ein Teil derjenigen, die sich in Krankenhäusern befinden, während andere genesen und in den Zustand R übergehen.\\
Da es sich hier jedoch um Übergänge handelt, die durchaus nachvollziehbar und für SuS begreiflich darstellbar sind, ist der Gewinn durch die differenziertere Betrachtung der Klasse R stärker zu bewerten, als die Kosten die durch den höheren Aufwand entstehen.\\
M. Roberts et al. untersuchten 2007 ebenfalls die Möglichkeit Epidemien zu kontrollieren und dadurch die Auswirkungen möglichst gering zu halten. Dafür unterteilten sie die Klasse der Infektiösen nach dem Ort, an dem sie sich infiziert haben (bei einem Familienmitglied, in der Schule, auf der Arbeit oder bei der Gesellschaft). Dadurch entsteht die Möglichkeit, die Auswirkungen von der Schließung bestimmter Einrichtungen, wie beispielsweise Schulen, bezüglich der Ausbreitung der Krankheit zu untersuchen.\\
\subsubsection{IDEA Modell}
\ellen
Auch das IDEA-Modell (Incidence decay witz exponential adjustment) versucht die Ausbreitung von Infektionskrankheiten zu beschreiben. Dieses Modell benutzt keine Differentialgleichungen, sondern beschränkt sich auf eine Funktion:\\
\begin{align}
I_t &=(\dfrac{R_0}{(1+d)^t})^t
\end{align}
%TODO äußere Klammer schön machen
Dabei beschreibt $I_t$ die Menge der Krankheitsfälle zum Zeitpunkt t, $R_0$ die Grundreproduktionsrate und $d$ ist ein Kontrollparameter, der dafür sorgt, dass die Anzahl der Krankheitsfälle nicht zu stark ansteigt. 
\subsubsection{Wahl eines Modells}
Das IDEA-Modell kann einfach im Unterricht eingebunden werden, da keine unbekannten Größen oder Operationen für die SuS auftreten. Da jedoch lediglich die Klasse der Infizierten beschrieben wird, ist sie für die weitere Arbeit kaum zu nutzen, da die Untersuchung der Removed-Klasse nicht möglich ist.\\
 Auch das klassische SIR-Modell hält nicht genügend Möglichkeiten bereit, die Removed-Klasse zu untersuchen.\\
  Das SEIHFR-Modell bietet diese Möglichkeiten, jedoch wird dieses, um die Auswertung zu vereinfachen, um die Klasse D erweitert. Diese Klasse beschreibt jene, die durch die Krankheit gestorben sind. 
  \begin{figure}
\begin{center}
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto, node distance=3.5cm]
	\node[state] (S)				{S};
	\node[state] (E) [right of=S]	{E};
	\node[state] (I) [right of=E]	{I};
	\node[state] (H) [right of=I]	{H};
	\node[state] (F)[above of=H]	{F};
	\node[state] (D)[right of=F]	{D};
	\node[state] (R)[below right of=H]	{R};
	\path 	(S)	edge node {$\lambda$} 					(E)
			(E)	edge node {$\alpha$}					(I)
			(I)	edge node {$\delta_1 (1-\iota) \gamma_D$}	(F)
			(I)	edge node {$\gamma_{H^\iota}$}				(H)
			(I)	edge [bend right] node {$\gamma_1(1-\iota)(1-\delta_1)$}	(R)
			(F)	edge node {$\gamma_F$}					(D)
			(H)	edge node {$\gamma_{DH} \delta_2$}		(D)
			(H) edge node {$\gamma_{IH}(1-\delta_2)$}	(R);
	
\end{tikzpicture}
\end{center}
\caption{SEIHFRD-Modell}
\end{figure}
\subsection{Erweiterung auf mehrere miteinander interagierende Populationen}\label{ssec:multiPop}
\steffen
Die bisherigen Ansätze betrachten jeweils nur eine Population. Um die Auswirkungen von Schließungen bestimmter Transportwege zu untersuchen reicht die Betrachtung einer isolierten Population nicht aus. Im Folgenden werden zwei Ansätze zur Modellierung von mehren miteinander agierenden Populationen während einer Infektion untersucht und anschließend darauf aufbauend das Model aus \ref{ssec:spa} auf mehrere Populationen erweitert. Für die eigentliche Erweiterung des Modells wird sich auf eine \emph{SIR}-Modellierung beschränkt und zusätzliche Subpopulationen erst bei Bedarf in Betracht gezogen.
\subsubsection{Simulation von Tagesabläufen in verschiedenen Gruppen}
\cite{Capasso1978} beschreiben in ihrer Arbeit ein Infektionsmodell, mit dem sich die Ausbreitung einer Infektionskrankheit in einer isolierten Stadt beschreiben lässt. Im Gegensatz zu den SIR-Modellen werden in diesem Modell die Individuen direkt simuliert. Innerhalb der Population werden die Individuen in sogenannten \emph{Mixing Groups} zusammengefasst, in denen sich die Individuen untereinander anstecken können. Je nach Interpretation repräsentieren die \emph{Mixing Groups} Haushalte, Schulklassen, Arbeitsplätze oder Krankenhausabteilungen. Jedes Individuum hat dabei eine fest zugeteilte Haushalts- und Beschäftigungs-Gruppe, zwischen denen im Laufe eines Tages gependelt wird. Dies entspricht dem Arbeits- beziehungsweise dem Schulalltag der Individuen.

Für die Modellierung der Krankheit werden die drei grundlegenden Zustände \emph{infizierbar}, \emph{infiziert} und \emph{immunisiert}. Die \emph{Infizierten} unterteilen sich noch zusätzlich in die mit Symptomen und die ohne. Damit ist diese Modellierung äquivalent zu der eines \emph{SEIR}-Modells.


behandelt die Effektivität von Schulschließungen während einer Grippewelle. Arbeitet mit Individuen, die sich zwischen verschiedenen Gruppen hin und her bewegen (explizit: Familie, Schule, Arbeit und Krankenhaus). Die Übertragungsraten sind abhängig von der Gruppe, in der sich ein Individuum befindet. Das Schließen von Schulen zeigt in der Simulation eindeutige Effekte.
\subsubsection{Erweiterung des SIR-Modells}
\cite{Sattenspiel1995} Erweiterung des SIR-Models um Reisen zwischen den Populationen. Individuen reisen zu einem Ziel und kehren zurück. Die Reisebereitschaft ist invariant unter Infektionen oder anderen Faktoren. Im Prinzip ein Zusammenschluss von Mobilitäts- und SIR-Modell

\subsubsection{Vom SIR-Modell zur Netzwerksbasierten Pandemie-Simulation}
Für die Simulation einer Pandemie wird der Netzwerksansatz von \citep{Capasso1978} mit der Erweiterung des SIR-Modells von \citep{Sattenspiel1995} kombiniert. 

Sei 
\begin{align}
	P=&\lbrace H, D\rbrace \text{ mit}\label{eq:ssec:multiPop:SIRBegin}\\
	H=&\lbrace S, I, R\rbrace\\
	D=&\lbrace \Delta S= -\lambda SI, \Delta I = \lambda SI - \mu I, \Delta R = \mu I   \rbrace \label{eq:ssec:multiPop:SIREnd}
\end{align}
eine zeitdiskrete SIR-Population. In der folgenden Beschreibung der Pandemie mit einem Netzwerksmodell werden die Subpopulationen der verschiedenen Infektionsstadien mit den Knoten eines gerichteten Netzwerkes identifiziert. Die Knoten enthalten somit auch immer die aktuelle Größe der Subpopulation. Die Kanten werden aus den Änderungsraten gebildet. 

Da die Summe der Subpopulationen inklusive der \emph{R}-Subpopulation zeitinvariant ist gilt, dass es für jeden positiven Summanden in einer Änderungsrate einen betragsmäßig gleichen aber negativen Summanden in einer anderen Änderungsrate gibt. Für die bisher betrachteten \emph{SIR}-Modelle ist dieser Zusammenhang leicht zu sehen:
\begin{align}
	\Delta S & = -\lambda IS & \\
	\Delta I & = \lambda IS & - \mu I \\
	\Delta R & = & \mu I
\end{align}

Die Subpopulation mit dem negativen Summanden in ihrer Änderungsrate wird als Quelle bezeichnet, die mit dem positiven als Senke oder Ziel. So lässt sich die Beziehung zwischen beiden Subpopulationen als Netzwerk mit 2 Knoten und einer gerichteten Kante darstellen (siehe Abbildung \ref{fig:ssec:multiPop:simpleDirectedEdge}) und als ``Abwandern'' von Individuen aus der Quell-Subpopulation in die Senken-Subpopulation interpretieren. Die Menge an Individuen, die entlang der Kante abwandert, nennen wir das \emph{Volumen} der Kante. 

\begin{figure}
\begin{center}\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto, node distance=3cm]
	\node[state] (S)				{S};
	\node[state] (I) [right of=S]	{I};
	
	\path (S) edge node {$\lambda SI$} (I);
\end{tikzpicture}\end{center}
\caption{Beispiel einer Quelle-Senke Relation zwischen zwei Subpopulationen.}\label{fig:ssec:multiPop:simpleDirectedEdge}
\end{figure}

Mit der soeben beschriebenen Transformation lässt sich das bekannte \emph{SIR}-Modell nun als Netzwerk darstellen. Für das \emph{SIR}-Modell in Gleichung \ref{eq:ssec:multiPop:SIRBegin} - \ref{eq:ssec:multiPop:SIREnd} wird das Netzwerk in Abbildung \ref{fig:ssec:multiPop:SIRNet} dargestellt.

\begin{figure}
\begin{center}
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto, node distance=3cm]
	\node[state] (S)				{S};
	\node[state] (I) [right of=S]	{I};
	\node[state] (R) [right of=I]	{R};
	\path 	(S) edge node {$\lambda SI$}	(I)
			(I) edge node {$\mu I$}			(R);
\end{tikzpicture}
\end{center}
\caption{Netzwerkdarstellung von Gleichung \ref{eq:ssec:multiPop:SIRBegin} - \ref{eq:ssec:multiPop:SIREnd}}\label{fig:ssec:multiPop:SIRNet}
\end{figure}

Die Erweiterung der Modellierung auf multiple, miteinander interagierende Populationen wird nun mit der Erweiterung des Netzwerkes um weitere Populationen sowie zusätzlichen Kanten zwischen den Populationen erreicht. Mit der Motivation der Modellierung im Hinterkopf wird im Folgenden von einem \emph{SEIR}-Modell ausgegangen. In \cite{Sattenspiel1995} wird eine Interaktion zwischen den Populationen uniform modelliert. Jede Subpopulation hat die gleiche Reiserate. Dieser Ansatz modelliert aber an der Realität vorbei. Je nach zu simulierender Krankheit sind Infizierte mit Symptomen (Subpopulation \emph{I}) körperlich nicht mehr in der Lage zu reisen oder werden, auf Grund ihrer offensichtlichen Krankheit, auf gewissen Transportwegen nicht mehr befördert. Dies gielt beispielsweie für Flugzeuge oder Schiffe, bei denen die Passagiere gemeinsam auf einem engen, abgeschlossenen Raum miteinander interagieren. Unter dieser Prämisse wäre ein \emph{SIR}-Modell zur Beschreibung von Pandemien nicht sinnvoll. Es würde nur ein Austausch zwischen den verschiedenen \emph{S}-Populationen stattfinden und Infizierte würden keine Nachbarpopulationen kontaminieren.  Durch die Hinzunahme einer \emph{E}-Population, in der die nichtsymptomatischen Infizierten zusammengefasst werden, wird das Kontaminationsproblem gelöst, da diese Individuen die Krankheit durch alle Transportwege in andere Populationen tragen können. 

Für das Populationsnetzwerk bedeutet dies, dass jeweils zwischen allen \emph{S}-Subpopulationen und allen \emph{E}-Subpopulationen Kanten dem Netzwerk hinzugefügt werden, die den Fluss zwischen den Subpopulationen beschreiben. Für ein besseres Verständnis wird im Folgenden zwischen inneren und äußeren Kanten unterschieden. Die inneren Kanten beschreiben die Kanten innerhalb einer Population und die äußeren die Interaktion zwischen den Populationen. Für die weitere Modellierung einer Pandemie wird angenommen, dass die Infizierte mit Symptomen nicht reisen. Zudem werden die Interaktionen zwischen den \emph{R}-Subpopulationen nicht modelliert, da diese für die Betrachtung einer Krankheit keine Bedeutung mehr haben und hauptsächlich als ``Endlager'' für Individuen dienen, die nicht mehr durch die Krankheit beeinflusst werden können (zum Beispiel durch Immunisierung oder Tod). Für zwei \emph{SEIR}-Populationen $P$ und $P'$ ist das Netzwerk in Abbildung \ref{fig:ssec:multiPop:2interactingSEIR} dargestellt. 
\begin{figure}
\begin{center}
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto, node distance=3.5cm]
	\node[state] (S)				{S};
	\node[state] (E) [right of=S]	{E};
	\node[state] (I) [right of=E]	{I};
	\node[state] (R) [right of=I]	{R};
	\node[state] (S')[below of=S]	{S'};
	\node[state] (E')[below of=E]	{E'};
	\node[state] (I')[below of=I]	{I'};
	\node[state] (R')[below of=R]	{R'};
	\path 	(S)	edge node {$\lambda SE + \beta SI$} 	(E)
				edge [bend left] node {$\tau S$}					(S')
			(E)	edge node {$\gamma E$}					(I)
				edge [bend left] node {$\tau E$}					(E')
			(I)	edge node {$\delta I$}					(R)
			(S')edge node {$\lambda S'E' + \beta S'I'$}(E')
				edge [bend left] node {$\pi S'$}					(S)
			(E')edge node {$\gamma E'$}					(I')
				edge [bend left] node {$\pi E'$}					(E)
			(I')edge node {$\delta I'$}					(R');
	
\end{tikzpicture}
\end{center}
\caption{Netzwerk für zwei interagierende \emph{SEIR}-Populationen mit gleichen Übergangskoeffizienten}\label{fig:ssec:multiPop:2interactingSEIR}
\end{figure}

Stünde in diesem Beispiel jede Population für ein Land, würden die gleichen Übertragungsfaktoren ($\alpha, \beta, \gamma, \delta$) auf ähnliche Strukturen in der Behandlung von Krankheiten hinweisen. 

In Abbildung \ref{fig:ssec:multiPop:2interactingSEIR} wird jeweils ein Faktor für die äußeren Kanten von $P$ nach $P'$ ($\tau$) und einer für die Gegenrichtung ($\pi$) verwendet. Dieser Faktor wird im Folgenden als Reisefaktor bezeichnet und ist zwischen zwei Populationen für alle Subpopulationen gleich. Da in unserem Modell nur symptomfreie Individuen reisen, haben Individuen der \emph{E}-Subpopulation keinen Grund weniger zu reisen als die Individuen der \emph{S}-Subpopulation. Eine Verallgemeinerung auf subpopulationsabhängige Reisefaktoren ist jedoch nicht ausgeschlossen. 



\hrule
\begin{itemize}
	\item Aufbauend auf dem beschriebenen SIR Modell in \ref{ssec:spa}
	\item Verwendung eines Netzwerkes
	\item Jeder Knoten ist eine Zustandspopulation (Terminus festlegen). Jede Kante beschreibt einen Fluss von einem Knoten zu einem Anderen.
	\item eine SIR Population ist demnach ein Subnetz
	\item Knoten sind nie negativ. 
	\item diskrete Zeitschritte
	\item Simulation von Geschlpssenen Flughäfen entspricht entfernen von Kanten
	\item Simulation von Quarantäne entspricht zusätzliche Knoten, die nur S,E,R durchlassen
\end{itemize}